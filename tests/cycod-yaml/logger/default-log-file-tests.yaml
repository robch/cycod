# Test default log file name template: log-{ProgramName}-{time}.log

workingDirectory: ../../../testresults/cycod/logger/default-log-file-tests
class: default-log-file-tests
tags: [cycod, logger]
tests:

- name: Test default log file name template for cycod
  steps:
  - name: Run cycod and verify log file
    bash: |
      cycod version --log
      cycodmd log-cycod-*.log exception-log-*.log
    expect-regex: |
      Version:
      log-cycod-[0-9]+\.log
      File logger initialized with file:
      Memory logger configured to dump to
      exception-log-cycod-[0-9]+\.log
      Logging system fully initialized
    not-expect-regex: |
      ## exception-log-.*\.log
  
  - name: Clean up test log files
    bash: |
      rm -f log-cycod-*.log exception-log-cycod-*.log
      echo "Cleanup completed"
    expect-regex: |
      Cleanup completed